# Custom GPT setup guide (backend required)

This guide explains how to configure a Custom GPT to assist with the `gdrive_permissions1` setup flow using the required backend service.

## Goals
- Provide consistent setup guidance.
- Keep the GPT prompt stable while allowing setup steps to evolve.
- Ensure the GPT stays current by retrieving artifacts from the backend.

## Files to use
- **Prompt file (stable):** `GPT_PROMPT.md`
- **Knowledge file (regenerated):** `GPT_KNOWLEDGE.md`

> `GPT_KNOWLEDGE.md` is generated by `npm run build:docs`. It is deterministic and based on `docs/common/steps.yaml` plus the template in `GPT_KNOWLEDGE.template.md`.

## Configure the Custom GPT
1. Open ChatGPT and create a new Custom GPT.
2. Set the **System Instructions** to the content of `GPT_PROMPT.md`.
3. Ensure the GPT can access the backend base URL that serves `/knowledge`, `/steps`, and `/bundle`.
4. Do not upload `GPT_KNOWLEDGE.md` in the Knowledge section; it must be fetched from the backend at runtime.
5. Save the GPT.

## Updating the knowledge
Whenever setup steps or docs change:
1. Run `npm run build:docs`.
2. Commit the regenerated `GPT_KNOWLEDGE.md` so the GPT fetches the latest version at runtime.

## Notes
- The prompt is intended to stay stable. Prefer updating the knowledge file instead of changing the prompt.
- If the GPT fails to fetch `GPT_KNOWLEDGE.md` from the backend, treat it as an error and retry after verifying the backend URL and availability.
- Production usage requires `BACKEND_API_KEY`; local development can bypass auth with `ALLOW_ANON=true`.
- The backend endpoint for the knowledge file is `/knowledge`.
